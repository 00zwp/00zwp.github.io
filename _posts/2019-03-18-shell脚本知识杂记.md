---
layout: post
title: shell脚本
subtitle: "随机记录linux命令和shell脚本的有关知识"
date: 2019-03-18
author: tianhaoo
header-img: img/post-bg/27.jpg
catalog: true
tags:
  - linux
---

本片博客来源于一个坑，今天实验课里面编写shell脚本，在给变量赋值的时候死活都运行不成功，按照网上的教程一个字一个字的敲进去也不行，然后旁边的同学就能
运行，明明一摸一样的，这么简单的赋值命令，在我电脑上就是跑不了，我换个电脑敲也不行，同样的内容，我敲就不行，别人敲就行。在即将就要自闭之际，我发现原来
是我习惯在等号前后加的空格是罪魁祸首，网上搜了下，发现在shell脚本中空格还真得谨慎使用，不禁感叹这是门坑爹的语言，开这样一篇博客记录平常遇到的坑点。
同时也积累shell脚本方面的知识吧，毕竟这对于程序员来说也是一门很重要，很有用的课程。

## 赋值语句

1. 定义变量时不加$,使用时要加$，用以区别字符串。使用变量时将变量名用{}括来是个好习惯，shell会将花括号里面的字符解释为一个整体，好处在数组定义的时候会体现。

2. **千万不要**在等号两边加上空格，否则将会报错！

### 三种给变量赋值的方式

1. `let` 使用let时变量不是字符串，而是会计算表达式的值

2. `read` e.g. `read input` 将会将用户输入的字符存在input中

3. `$(command)` e.g. `a=$(wc -l a.txt)` 会把a.txt文件的行数存在变量a中


## 变量类型

shell脚本中没有变量类型，可以随意赋值，并随意改变变量的内容。

默认情况下变量都被解释为一个字符串，直接用等号赋值时两个变量相加即为字符串相加，bash并不会计算出表达式的值。需要计算表达式的值的时候要用let赋值。

最好赋值给数字型变量时都用let，e.g. let a=5。


